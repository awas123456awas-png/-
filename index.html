<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Sba3 Fwazer - Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§Ù</title>
    <style>
        :root { --bg: #1a1a2e; --accent: #4e4e6a; --text: #ffffff; }
        body { font-family: 'Tajawal', sans-serif; background: var(--bg); color: white; transition: background 0.5s; margin: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center; }
        
        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø«ÙŠÙ…Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø³Ù… */
        .theme-cars { --bg: #5a189a; --accent: #7b2cbf; }
        .theme-anime { --bg: #3c096c; --accent: #5a189a; }
        .theme-cartoons { --bg: #0077b6; --accent: #0096c7; }
        .theme-sports { --bg: #2d6a4f; --accent: #40916c; }
        .theme-games { --bg: #bc6c25; --accent: #dda15e; }
        .theme-history { --bg: #606c38; --accent: #88935c; }

        .container { width: 90%; max-width: 500px; text-align: center; }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø­Ø¯Ø«Ø© */
        .scoreboard { display: flex; justify-content: space-between; margin-bottom: 30px; }
        .team-box { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 15px; width: 45%; }
        .team-name { font-size: 14px; opacity: 0.8; margin-bottom: 5px; }
        .team-score { font-size: 32px; font-weight: bold; color: #fff; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø«Ø§Ø¨ØªØ© */
        .game-panel { background: var(--accent); padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); min-height: 300px; display: flex; flex-direction: column; justify-content: center; }
        
        button { padding: 15px; margin: 10px 0; border-radius: 12px; border: none; cursor: pointer; background: rgba(255,255,255,0.1); color: white; font-size: 16px; transition: 0.3s; }
        button:hover { background: rgba(255,255,255,0.2); }
        .hidden { display: none; }
        #timer { font-size: 60px; font-weight: bold; margin-bottom: 10px; }
    </style>
</head>
<body class="theme-default">

<div class="container">
    <div id="start-screen">
        <h1>ğŸ® Sba3 Fwazer</h1>
        <input id="p1" placeholder="Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„" style="padding:10px; width:80%; margin-bottom:10px; border-radius:8px; border:none;"><br>
        <input id="p2" placeholder="Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ" style="padding:10px; width:80%; margin-bottom:20px; border-radius:8px; border:none;"><br>
        <button onclick="startGame()" style="width:85%; background:#e63946; font-size:20px;">Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨</button>
    </div>

    <div id="game-screen" class="hidden">
        <div class="scoreboard">
            <div class="team-box"><div id="name1" class="team-name">...</div><div id="score1" class="team-score">0</div></div>
            <div class="team-box"><div id="name2" class="team-name">...</div><div id="score2" class="team-score">0</div></div>
        </div>

        <div class="game-panel">
            <div id="timer" class="hidden">15</div>
            <h2 id="q-text">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…</h2>
            <div id="controls">
                <div id="cats-grid" style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                    <button onclick="selectCat('cars')">ğŸš— Ø³ÙŠØ§Ø±Ø§Øª</button>
                    <button onclick="selectCat('anime')">â›©ï¸ Ø£Ù†Ù…ÙŠ</button>
                    <button onclick="selectCat('cartoons')">ğŸ“º ÙƒØ±ØªÙˆÙ†</button>
                    <button onclick="selectCat('sports')">âš½ ÙƒÙˆØ±Ø©</button>
                    <button onclick="selectCat('games')">ğŸ® Ø£Ù„Ø¹Ø§Ø¨</button>
                    <button onclick="selectCat('history')">ğŸ“œ ØªØ§Ø±ÙŠØ®</button>
                </div>
                <div id="ans-grid" class="hidden" style="display:flex; flex-direction:column;"></div>
            </div>
        </div>
    </div>
</div>

<script>
    const db = {
        cars: [{q: "Ø£Ø³Ø±Ø¹ Ø³ÙŠØ§Ø±Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", o: ["Ø¨ÙˆØ¬Ø§ØªÙŠ", "ØªÙˆÙŠÙˆØªØ§", "ÙÙˆØ±Ø¯"], a: "Ø¨ÙˆØ¬Ø§ØªÙŠ"}],
        anime: [{q: "Ø¨Ø·Ù„ ÙˆÙ† Ø¨ÙŠØ³ØŸ", o: ["Ù„ÙˆÙÙŠ", "Ø²ÙˆØ±Ùˆ", "Ø³Ø§Ù†Ø¬ÙŠ"], a: "Ù„ÙˆÙÙŠ"}],
        // ... (Ø£Ø¶Ù Ø¨Ù‚ÙŠØ© Ø§Ù„Ù€ 100 Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§ Ø¨Ù†ÙØ³ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©)
    };

    let game = { p1: "", p2: "", s1: 0, s2: 0, turn: 1, timer: 15, interval: null };

    function startGame() {
        game.p1 = document.getElementById('p1').value || "Ø§Ù„ÙØ±ÙŠÙ‚ 1";
        game.p2 = document.getElementById('p2').value || "Ø§Ù„ÙØ±ÙŠÙ‚ 2";
        document.getElementById('name1').innerText = game.p1;
        document.getElementById('name2').innerText = game.p2;
        document.getElementById('start-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
    }

    function selectCat(cat) {
        document.body.className = "theme-" + cat; // ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† ÙÙˆØ±Ø§Ù‹
        const q = db[cat][0]; // Ù‡Ù†Ø§ ÙŠØ®ØªØ§Ø± Ø§Ù„Ø³Ø¤Ø§Ù„
        
        document.getElementById('q-text').innerText = q.q;
        document.getElementById('cats-grid').classList.add('hidden');
        const ansGrid = document.getElementById('ans-grid');
        ansGrid.innerHTML = "";
        q.o.forEach(opt => {
            const btn = document.createElement('button');
            btn.innerText = opt;
            btn.onclick = () => check(opt, q.a);
            ansGrid.appendChild(btn);
        });
        ansGrid.classList.remove('hidden');
        document.getElementById('timer').classList.remove('hidden');
        startTimer();
    }

    function startTimer() {
        game.timer = 15;
        document.getElementById('timer').innerText = game.timer;
        clearInterval(game.interval);
        game.interval = setInterval(() => {
            game.timer--;
            document.getElementById('timer').innerText = game.timer;
            if(game.timer <= 0) { clearInterval(game.interval); nextTurn(); }
        }, 1000);
    }

    function check(ans, correct) {
        clearInterval(game.interval);
        if(ans === correct) {
            if(game.turn === 1) game.s1++; else game.s2++;
            document.getElementById('score1').innerText = game.s1;
            document.getElementById('score2').innerText = game.s2;
        }
        nextTurn();
    }

    function nextTurn() {
        game.turn = game.turn === 1 ? 2 : 1;
        document.getElementById('timer').classList.add('hidden');
        document.getElementById('ans-grid').classList.add('hidden');
        document.getElementById('cats-grid').classList.remove('hidden');
        document.getElementById('q-text').innerText = "Ø¯ÙˆØ±: " + (game.turn === 1 ? game.p1 : game.p2) + " - Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…";
        document.body.className = "theme-default"; // Ø±Ø¬ÙˆØ¹ Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
    }
</script>
</body>
</html>
