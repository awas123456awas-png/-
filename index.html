<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Sba3 Fwazer: Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0f0c29; --accent: #ff4757; --card: #1e1e2f; --team1: #3498db; --team2: #e67e22; }
        body { font-family: 'Tajawal', sans-serif; background: var(--bg); color: white; margin: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center; }
        .app-wrapper { width: 95%; max-width: 600px; background: var(--card); padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); text-align: center; }
        
        .hidden { display: none; }
        input { width: 80%; padding: 15px; margin: 10px 0; border-radius: 10px; border: none; font-size: 16px; text-align: center; }
        button { padding: 15px 30px; margin: 10px; border-radius: 10px; border: none; cursor: pointer; font-size: 18px; color: white; background: var(--accent); transition: 0.3s; }
        
        .score-board { display: flex; justify-content: space-between; margin-bottom: 20px; font-weight: bold; }
        .answer-btn { display: block; width: 100%; padding: 15px; margin: 10px 0; background: #2f3640; border: 2px solid #444; border-radius: 10px; color: white; }
        .answer-btn:hover { border-color: var(--accent); }
    </style>
</head>
<body>

<div class="app-wrapper">
    <div id="start-screen">
        <h1>ğŸ”¥ Sba3 Fwazer</h1>
        <button onclick="showSetup()" style="padding: 25px 50px; font-size: 28px;">Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØŸ</button>
    </div>

    <div id="setup-screen" class="hidden">
        <h2>Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±Ù‚</h2>
        <input type="text" id="t1" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„">
        <input type="text" id="t2" placeholder="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ">
        <button onclick="startGame()">Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠ</button>
    </div>

    <div id="game-screen" class="hidden">
        <div class="score-board">
            <span id="name1"></span>: <span id="score1">0</span> | <span id="name2"></span>: <span id="score2">0</span>
        </div>
        <h3 id="turn-indicator">Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚: -</h3>
        <div id="cat-selection" class="hidden">
            <p>Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…:</p>
            <button onclick="selectCategory('tech')">ğŸ’» ØªÙ‚Ù†ÙŠØ©</button>
            <button onclick="selectCategory('history')">ğŸ“œ ØªØ§Ø±ÙŠØ®</button>
        </div>
        <div id="question-area" class="hidden">
            <div id="timer" style="font-size: 30px; color: var(--accent);">15</div>
            <h2 id="q-text"></h2>
            <div id="answers"></div>
        </div>
    </div>
</div>

<script>
    const db = {
        tech: [{q: "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ø³Ø³ Ø¢Ø¨Ù„ØŸ", o: ["Ø¬ÙˆØ¨Ø²", "ØºÙŠØªØ³", "Ù…Ø§Ø³Ùƒ"], a: "Ø¬ÙˆØ¨Ø²"}],
        history: [{q: "ÙƒÙ… Ø§Ø³ØªÙ…Ø±Øª Ø­Ø±Ø¨ Ø§Ù„Ø¨Ø³ÙˆØ³ØŸ", o: ["40 Ø³Ù†Ø©", "10 Ø³Ù†ÙŠÙ†", "100 Ø³Ù†Ø©"], a: "40 Ø³Ù†Ø©"}]
    };

    let game = { t1: "", t2: "", s1: 0, s2: 0, turn: 1, timer: 15, interval: null };

    function showSetup() { document.getElementById('start-screen').classList.add('hidden'); document.getElementById('setup-screen').classList.remove('hidden'); }

    function startGame() {
        game.t1 = document.getElementById('t1').value || "Ø§Ù„ÙØ±ÙŠÙ‚ 1";
        game.t2 = document.getElementById('t2').value || "Ø§Ù„ÙØ±ÙŠÙ‚ 2";
        document.getElementById('name1').innerText = game.t1;
        document.getElementById('name2').innerText = game.t2;
        document.getElementById('setup-screen').classList.add('hidden');
        document.getElementById('game-screen').classList.remove('hidden');
        renderTurn();
    }

    function renderTurn() {
        document.getElementById('turn-indicator').innerText = "Ø¯ÙˆØ±: " + (game.turn === 1 ? game.t1 : game.t2);
        document.getElementById('cat-selection').classList.remove('hidden');
        document.getElementById('question-area').classList.add('hidden');
    }

    function selectCategory(cat) {
        document.getElementById('cat-selection').classList.add('hidden');
        document.getElementById('question-area').classList.remove('hidden');
        loadQuestion(db[cat][0]); // Ø¨Ø³ÙŠØ· Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù‡Ù†Ø§
    }

    function loadQuestion(qObj) {
        document.getElementById('q-text').innerText = qObj.q;
        const cont = document.getElementById('answers'); cont.innerHTML = "";
        qObj.o.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = "answer-btn";
            btn.innerText = opt;
            btn.onclick = () => check(opt, qObj.a);
            cont.appendChild(btn);
        });
        startTimer();
    }

    function startTimer() {
        game.timer = 15;
        game.interval = setInterval(() => {
            game.timer--;
            document.getElementById('timer').innerText = game.timer;
            if(game.timer <= 0) { clearInterval(game.interval); switchTurn(); }
        }, 1000);
    }

    function check(ans, correct) {
        clearInterval(game.interval);
        if(ans === correct) {
            if(game.turn === 1) game.s1++; else game.s2++;
            document.getElementById('score1').innerText = game.s1;
            document.getElementById('score2').innerText = game.s2;
        }
        switchTurn();
    }

    function switchTurn() {
        game.turn = game.turn === 1 ? 2 : 1;
        renderTurn();
    }
</script>

</body>
</html>
